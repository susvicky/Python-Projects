For detailed explanation visit my blog :
https://www.codespeedy.com/send-email-with-file-attachment-in-python-with-smtp/